(()=>{"use strict";var e={3594:(e,t,i)=>{i(6992),i(8674),i(9601),i(7727);var o=i(5010),r=i(3396),n=(0,r._)("header",null,null,-1);function s(e,t){var i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[n,(0,r._)("main",null,[(0,r.Wm)(i)])],64)}var a=i(89);const c={},l=(0,a.Z)(c,[["render",s]]),u=l;var v=i(2483),m=i(7139);const f=i.p+"img/cinema-hero-img.9767c81e.jpg";var d={class:"home"},_=(0,r._)("input",{type:"submit",value:"Search",class:"search-form__button"},null,-1),p={class:"router-link-button"},g={class:"movies"},h={class:"movies__list"},w={class:"movie__img-container"},y=["src","alt"],b=["alt"],k=["onClick"],D={class:"movie__year"},I={class:"movie__title"};function F(e,t,i,n,s,a){var c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("form",{onSubmit:t[1]||(t[1]=(0,o.iM)((function(){return n.searchMovies&&n.searchMovies.apply(n,arguments)}),["prevent"])),class:"search-form"},[(0,r.wy)((0,r._)("input",{type:"text",placeholder:"What are you looking for?","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.query=e}),class:"search-form__input"},null,512),[[o.nr,n.query]]),_],32),(0,r._)("button",p,[(0,r.Wm)(c,{to:"/favorites"},{default:(0,r.w5)((function(){return[(0,r.Uk)("Go to Favorites")]})),_:1})]),(0,r._)("div",g,[(0,r._)("div",h,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.movies,(function(t){return(0,r.wg)(),(0,r.iD)("div",{class:"movie",key:t.imdbID},[(0,r._)("div",w,[(0,r.Wm)(c,{to:"/movie/"+t.imdbID,class:"movie__link"},{default:(0,r.w5)((function(){return["N/A"!==t.Poster?((0,r.wg)(),(0,r.iD)("img",{key:0,src:t.Poster,alt:t.Title+" poster"},null,8,y)):((0,r.wg)(),(0,r.iD)("img",{key:1,src:f,alt:t.Title+" poster"},null,8,b))]})),_:2},1032,["to"]),(0,r._)("button",{class:"toggle-btn",onClick:function(i){return e.$store.commit("toggleFavorites",t)}}," Add to Favorites ",8,k)]),(0,r._)("p",D,(0,m.zw)(t.Year),1),(0,r._)("h3",I,(0,m.zw)(t.Title),1)])})),128))])])])}var M=i(124),S=i(8534),x=(i(3210),i(1539),i(2222),i(8862),i(9826),i(4870)),O=i(65);const Z={apikey:"7c53913c"},z={setup:function(){var e=(0,x.iH)(""),t=(0,O.MT)({state:{movies:[]},mutations:{setMovies:function(e,t){e.movies=t},setQuery:function(e,t){e.query=t}},actions:{searchMovies:function(e,t){return(0,S.Z)((0,M.Z)().mark((function i(){var o,r,n;return(0,M.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=e.commit,""===t.trim()){i.next=18;break}return i.prev=2,i.next=5,fetch("https://www.omdbapi.com/?apikey=".concat(Z.apikey,"&s=").concat(t));case 5:return r=i.sent,i.next=8,r.json();case 8:n=i.sent,o("setMovies",n.Search),o("setQuery",t),localStorage.setItem("query",t),localStorage.setItem("movies",JSON.stringify(n.Search)),i.next=18;break;case 15:i.prev=15,i.t0=i["catch"](2),console.error(i.t0);case 18:case"end":return i.stop()}}),i,null,[[2,15]])})))()}},getters:{getMovieById:function(e){return function(t){return e.movies.find((function(e){return e.imdbID===t}))}}}}),i=(0,r.Fl)((function(){return t.state.movies})),o=function(){t.dispatch("searchMovies",e.value),e.value=""};return(0,r.bv)((function(){var e=localStorage.getItem("query"),i=localStorage.getItem("movies");e&&i?(t.commit("setQuery",e),t.commit("setMovies",JSON.parse(i))):t.dispatch("searchMovies","star wars")})),{query:e,searchMovies:o,movies:i}}},j=(0,a.Z)(z,[["render",F]]),T=j,P=i.p+"img/imdb-icon.43a8f297.svg";var Y={class:"movie-details"},C={class:"movie-details__content"},H={class:"movie-details__img-container"},q=["src"],N={class:"movie-details__info"},W={class:"movie-details__title"},A={class:"movie-details__actors"},J={class:"movie-details__genre"},U={class:"movie-details__statistics"},B={class:"movie-details__year"},R={class:"movie-details__runtime"},L={class:"movie-details__imdbRating"},Q=(0,r._)("img",{src:P,alt:"icon"},null,-1),$={class:"movie-details__plot"},G={class:"movie-details__director"},K={class:"movie-details__country"};function E(e,t,i,o,n,s){var a=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("button",null,[(0,r.Wm)(a,{to:"/",class:"router-link-button"},{default:(0,r.w5)((function(){return[(0,r.Uk)("Back")]})),_:1})]),(0,r._)("div",Y,[(0,r._)("div",C,[(0,r._)("div",H,[(0,r._)("img",{src:o.movie.Poster,alt:"movie poster"},null,8,q)]),(0,r._)("div",N,[(0,r._)("h2",W,(0,m.zw)(o.movie.Title),1),(0,r._)("h3",A,"Actors: "+(0,m.zw)(o.movie.Actors),1),(0,r._)("h4",J,(0,m.zw)(o.movie.Genre),1),(0,r._)("div",U,[(0,r._)("span",B,(0,m.zw)(o.movie.Year),1),(0,r._)("span",R,(0,m.zw)(o.movie.Runtime),1),(0,r._)("span",L,[Q,(0,r.Uk)(" "+(0,m.zw)(o.movie.imdbRating),1)])]),(0,r._)("p",$,(0,m.zw)(o.movie.Plot),1),(0,r._)("div",G," Director: "+(0,m.zw)(o.movie.Director),1),(0,r._)("div",K,"Country: "+(0,m.zw)(o.movie.Country),1)])])])],64)}const V={setup:function(){var e=(0,x.iH)({}),t=(0,v.yj)();return(0,r.wF)((0,S.Z)((0,M.Z)().mark((function i(){var o,r;return(0,M.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,fetch("https://www.omdbapi.com/?apikey=".concat(Z.apikey,"&i=").concat(t.params.id,"&plot=full"));case 2:return o=i.sent,i.next=5,o.json();case 5:r=i.sent,e.value=r;case 7:case"end":return i.stop()}}),i)})))),{movie:e}}},X=(0,a.Z)(V,[["render",E]]),ee=X;var te=(0,r._)("h2",{class:"favorites-title"},"My Favorites",-1),ie={class:"movies"},oe={class:"movies__list"},re={key:0},ne=(0,r._)("p",null,"You haven't added any movies to your favorites yet.",-1),se=[ne],ae={class:"movie__img-container"},ce=["src","alt"],le=["alt"],ue=["onClick"],ve={class:"movie__year"},me={class:"movie__title"};function fe(e,t,i,o,n,s){var a=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("button",null,[(0,r.Wm)(a,{to:"/",class:"router-link-button"},{default:(0,r.w5)((function(){return[(0,r.Uk)("Back")]})),_:1})]),(0,r._)("div",null,[te,(0,r._)("div",ie,[(0,r._)("div",oe,[0===e.favorites.length?((0,r.wg)(),(0,r.iD)("div",re,se)):((0,r.wg)(!0),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(s.getFavorites(),(function(e){return(0,r.wg)(),(0,r.iD)("div",{key:e.imdbID,class:"movie"},[(0,r._)("div",ae,[(0,r.Wm)(a,{to:"/movie/"+e.imdbID,class:"movie__link"},{default:(0,r.w5)((function(){return["N/A"!==e.Poster?((0,r.wg)(),(0,r.iD)("img",{key:0,src:e.Poster,alt:e.Title+" poster"},null,8,ce)):((0,r.wg)(),(0,r.iD)("img",{key:1,src:f,alt:e.Title+" poster"},null,8,le))]})),_:2},1032,["to"]),(0,r._)("button",{class:"toggle-btn",onClick:function(t){return s.removeFromFavorites(e)}}," Remove from favorites ",8,ue)]),(0,r._)("p",ve,(0,m.zw)(e.Year),1),(0,r._)("h3",me,(0,m.zw)(e.Title),1)])})),128))])])])],64)}var de=i(5082);const _e={computed:(0,de.Z)({},(0,O.rn)({favorites:function(e){return e.favorites}})),methods:{getFavorites:function(){return this.favorites},removeFromFavorites:function(e){this.$store.commit("toggleFavorites",e),window.localStorage.setItem("favorites",JSON.stringify(this.favorites))}},created:function(){var e=window.localStorage.getItem("favorites");e&&this.$store.commit("setFavorites",JSON.parse(e))}},pe=(0,a.Z)(_e,[["render",fe]]),ge=pe;var he=[{path:"/",name:"Home",component:T},{path:"/movie/:id",name:"Movie Detail",component:ee},{path:"/favorites",name:"Favorite Movies",component:ge}],we=(0,v.p7)({history:(0,v.PO)("/movies/"),routes:he});const ye=we;i(5212),i(7327),i(7658);const be=(0,O.MT)({state:{movies:[],favorites:[],query:""},mutations:{setMovies:function(e,t){e.movies=t},saveFavoritesInLocalStorage:function(e){window.localStorage.setItem("favorites",JSON.stringify(e.favorites))},toggleFavorites:function(e,t){e.favorites.some((function(e){return e.imdbID===t.imdbID}))?(e.favorites=e.favorites.filter((function(e){return e.imdbID!==t.imdbID})),this.commit("saveFavoritesInLocalStorage")):(e.favorites.push(t),this.commit("saveFavoritesInLocalStorage"))},setFavorites:function(e,t){e.favorites=t}},actions:{searchMovies:function(e,t){var i=this;return(0,S.Z)((0,M.Z)().mark((function o(){var r,n,s;return(0,M.Z)().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(r=e.commit,""===t.trim()){o.next=16;break}return o.prev=2,o.next=5,fetch("https://www.omdbapi.com/?apikey=".concat(env.apikey,"&s=").concat(t));case 5:return n=o.sent,o.next=8,n.json();case 8:s=o.sent,r("setMovies",s.Search),console.log("films",i.movies),o.next=16;break;case 13:o.prev=13,o.t0=o["catch"](2),console.error(o.t0);case 16:case"end":return o.stop()}}),o,null,[[2,13]])})))()}},getters:{getMovieById:function(e){return function(t){return e.movies.find((function(e){return e.imdbID===t}))}}}});(0,o.ri)(u).use(ye).use(be).mount("#app")}},t={};function i(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,i),n.exports}i.m=e,(()=>{var e=[];i.O=(t,o,r,n)=>{if(!o){var s=1/0;for(u=0;u<e.length;u++){for(var[o,r,n]=e[u],a=!0,c=0;c<o.length;c++)(!1&n||s>=n)&&Object.keys(i.O).every((e=>i.O[e](o[c])))?o.splice(c--,1):(a=!1,n<s&&(s=n));if(a){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]}})(),(()=>{i.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return i.d(t,{a:t}),t}})(),(()=>{i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{i.p="/movies/"})(),(()=>{var e={143:0};i.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[s,a,c]=o,l=0;if(s.some((t=>0!==e[t]))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);if(c)var u=c(i)}for(t&&t(o);l<s.length;l++)n=s[l],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return i.O(u)},o=self["webpackChunkcinemate"]=self["webpackChunkcinemate"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=i.O(void 0,[998],(()=>i(3594)));o=i.O(o)})();
//# sourceMappingURL=app.a780a3c7.js.map